package com.example.rahat;

import com.google.android.gms.common.ConnectionResult;
import com.google.android.gms.common.GooglePlayServicesClient;
import com.google.android.gms.common.GooglePlayServicesUtil;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.widget.Toast;


public class AlarmReceiver extends BroadcastReceiver implements
GooglePlayServicesClient.ConnectionCallbacks,
GooglePlayServicesClient.OnConnectionFailedListener 
{
	@Override
	public void onReceive(Context context, Intent intent)
	{     
		Log.d("Alarm", "Alarm reached onReceive of separate class");
		//new ClientTask().execute(serverName, port);
		// Show the toast  like in above screen shot
		Toast.makeText(context, "Alarm Triggered and Location Sent", Toast.LENGTH_LONG).show();
	}
	
	private boolean servicesConnected() {
        // Check that Google Play services is available
    	int errorCode = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);
    	if (errorCode != ConnectionResult.SUCCESS) {
    	  GooglePlayServicesUtil.getErrorDialog(errorCode, this, 0).show();
    	  return false;
    	}
    	return true;
    }
     
}
